<template>

    <!--NBC logo - Spinner-->
    <!-- <template if:false={isloaded}>
        <c-score_spinner></c-score_spinner>
    </template> -->
   
<template if:false={editInOperation}>

    <template if:true={isloaded}>
        <div class="container">
            <!-- Contact Information -->
            <div class="contact-container1">
               <!-- First Card -->
                <div class="contact-card-class">
                  <div class="slds-grid slds-grid_align-spread">
                     <!-- Contact Photo -->
                     <div class="photo-container slds-col slds-size_1-of-4">
                        <img src={documentUrl} class="profile-photo" alt="Attachment" onclick={handleOpenPopUp}>
                     </div> 
                     <!-- Contact Details -->
                     <div class="details-container slds-col slds-size_3-of-4">
                        <div class="contact-name">{contact.Name}</div>
                           <div>Contact ID: {contact.Id}</div>
                           <div>{contact.MailingStreet}</div>
                           <div>{contact.MailingCity}, {contact.MailingState}</div>
                           <div>{contact.MailingCountry}</div>
                     </div>
                  </div>
                </div>

               <!-- Second Card -->
                <div class="contact-card-class">
                    <div class="contact-info" style="font-weight: 700;">
                        <div><lightning-icon icon-name="utility:phone_portrait" alternative-text="Phone Icon" size="xx-small" class="blue-utility-icon"></lightning-icon>&nbsp;<a href={telLink}>{contact.Phone}</a></div>
                        <div><lightning-icon icon-name="utility:email" alternative-text="Email Icon" size="xx-small" class="icon blue-utility-icon"></lightning-icon>&nbsp;<a href={mailtoLink}>{contact.Email}</a></div>
                    </div>
                </div>

               <!-- Third Card -->
                <div class="contact-card-class" style="font-weight: 700;">
                    <div class="contact-info">
                        <div>Last Modified {lastModDate} by {contact.LastModifiedBy.Name}</div>
                    </div>
                </div>
            </div>

            <!-- Status Information -->
            <div class="contact-container2">
               <!-- Fourth Card -->
                <div class="status-card">
                    <div class="status-header">Registration Status</div>
                    <div class="status-body">{contact.Registration_Status__c}</div>
                </div>

                <!-- Fifth Card -->
                <div class="status-card">
                    <div class="status-header">Accreditation</div>
                    <div class="status-body">
                        <div>ID: Not Started</div>
                        <!-- <div>Photo: {contact.Photo_Verification__c}</div> -->
                        <div style={photoStatusClr}>Photo: {photoStatus}</div>
                    </div>
                </div>

                <!-- Sixth Card -->
                <div class="status-card">
                    <div class="status-header">HR Approval Status</div>
                    <!-- <div class="status-body approved">{contact.HR_App__c}</div> -->
                    <div class="status-body approved" style={hrStatusClr}>{hrStatus}</div>
                    
                </div>
            </div>

        </div>
    </template>
        
    <!-- Image modalPopup -->
    <div if:true={isModalOpen} class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container model-content">

            <div class="slds-modal__header header-container slds-grid slds-grid_align-spread">
                <div class="slds-col">
                    <h2 class="slds-text-heading_medium slds-text-align_left slds-col" style="font-weight: 500;">Image</h2>
                </div>
                <div class="slds-col">
                    <lightning-icon icon-name="utility:close" alternative-text="close" size="small" onclick={handleCloseModal}></lightning-icon>
                </div>
            </div>

            <div class="slds-modal__content model-body-content">
                <!-- <div class="image-container"> -->
                    <img src={documentUrl} alt="Placeholder Image" class="modal-image-content"/>
                <!-- </div> -->
            </div>

            <div class="slds-modal__footer model-footer-content">
                <button class="slds-button slds-button_neutral close-btn" onclick={handleCloseModal}>Close</button>
            </div>

        </div>
    </div>
    <div if:true={isModalOpen} class="slds-backdrop slds-backdrop_open"></div>
</template>

<template if:true={editInOperation}> 
    <c-score-gem-edit></c-score-gem-edit>
</template>

</template>